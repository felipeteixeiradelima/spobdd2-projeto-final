{% extends "core/base.html" %}

{% block title %}Campanhas - Doe Vida{% endblock %}

{% block content %}

<div class="py-5">
  <section class="container m-auto bg-light">
    <header class="text-center mb-5">
      <h1 class="text-danger fw-bold">Campanhas de Doação</h1>
      <p class="lead">Veja nossas campanhas ativas e passadas — participe, compartilhe e salve vidas!</p>
    </header>

    <!-- TABELA DE CAMPANHAS -->
    <article class="bg-white p-4 rounded shadow-sm">
      <h2 class="h4 text-danger mb-3"><i class="bi bi-table"></i> Lista de Campanhas</h2>

      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
          <thead class="table-danger">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nome da Campanha</th>
              <th scope="col">Local</th>
              <th scope="col">Data</th>
              <th scope="col">Status</th>
              <th scope="col">Ação</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Doe Sangue, Salve Vidas</td>
              <td>Hospital São Lucas</td>
              <td>15/11/2025</td>
              <td><span class="badge bg-success">Ativa</span></td>
              <td><button class="btn btn-outline-danger btn-sm"><i class="bi bi-calendar-heart"></i> Participar</button></td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Gotas de Esperança</td>
              <td>Hemocentro Central</td>
              <td>22/10/2025</td>
              <td><span class="badge bg-warning text-dark">Encerrando</span></td>
              <td><button class="btn btn-outline-danger btn-sm"><i class="bi bi-calendar-heart"></i> Participar</button></td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td>Doe Amor em Dobro</td>
              <td>Praça da Cidadania</td>
              <td>10/09/2025</td>
              <td><span class="badge bg-secondary">Encerrada</span></td>
              <td><button class="btn btn-outline-secondary btn-sm" disabled><i class="bi bi-lock"></i> Fechada</button></td>
            </tr>
          </tbody>
        </table>


        {% block content %}

        <table>
          <thead class="table-danger">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nome da Campanha</th>
              <th scope="col">Data Início</th>
              <th scope="col">Data Fim</th>
              <th scope="col">Status</th>
            </tr>
          </thead>

        <tbody>
          {% for c in campanhas %}
          <tr>
              <td scope="row">{{ c.id }}</td>
              <td>{{ c.nome }}</td>
              <td>{{ c.data_inicio|date:"d/m/Y" }}</td>
              <td>{{ c.data_fim|date:"d/m/Y" }}</td>
              <td>{{ c.status }}</td>
              <td><a href="{% url 'campanha_detail' c.id %}">Detalhes</a></td>
          </tr>
          {% endfor %}
        </tbody>
        </table>

        {% endblock %}
      </div>
    </article>

    <!-- TEXTO COMPLEMENTAR -->
    <section class="mt-5 text-center">
      <p class="lead">Quer ver sua cidade na próxima campanha?</p>
      <a href="{% url "agendamento" %}" class="btn btn-danger">
        <i class="bi bi-calendar2-heart"></i> Agende sua participação
      </a>
    </section>
  </section>
</div>

{% endblock %}
